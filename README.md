# Transparent Window Capture

macOS上で他のアプリケーションのウィンドウをリアルタイムでキャプチャし、半透明のウィンドウで表示するSwiftアプリケーションです。

## 主な機能

- **リアルタイムウィンドウキャプチャ**: 選択した他のアプリケーションのウィンドウを30FPSでリアルタイム表示
- **半透明ウィンドウ**: アプリケーション自体のウィンドウを半透明に設定可能（透明度をスライダーで調整）
- **ウィンドウ選択**: 現在開いているすべてのウィンドウから任意のウィンドウを選択可能

## 必要要件

- **macOS 12.3以上** (ScreenCaptureKit フレームワーク使用のため)
- **Swift 5.9以上**
- **スクリーン録画権限** (システム設定で許可が必要)

## セットアップ

### 1. プロジェクトのビルド

```bash
swift build
```

### 2. アプリケーションの実行

```bash
./.build/debug/TransparentWindowCapture
```

### 3. 権限設定

初回起動時に、システムから「スクリーン録画」権限の許可を求められます：

1. システム設定を開く
2. 「プライバシーとセキュリティ」を選択
3. 「スクリーン録画」を選択
4. TransparentWindowCaptureアプリを許可リストに追加

## 使用方法

1. アプリケーションを起動
2. ドロップダウンメニューから表示したいウィンドウを選択
3. 「キャプチャ開始」ボタンをクリック
4. 透明度スライダーでアプリケーションウィンドウの透明度を調整
5. キャプチャを停止する場合は「キャプチャ停止」ボタンをクリック

## 技術仕様

### 使用フレームワーク
- **AppKit**: macOSネイティブUI
- **ScreenCaptureKit**: 高性能ウィンドウキャプチャ
- **CoreImage**: 画像処理

### アーキテクチャ
- **WindowCaptureManager**: ScreenCaptureKitを使用したキャプチャ管理
- **ViewController**: UI制御と半透明効果の管理
- **AppDelegate**: アプリケーションライフサイクル管理

### キャプチャ仕様
- フレームレート: 30 FPS
- ピクセルフォーマット: 32-bit BGRA
- キューデプス: 3フレーム

## 注意事項

- アプリケーションにはスクリーン録画権限が必要です
- 自分自身のアプリケーションウィンドウはキャプチャ対象から除外されます
- macOS 12.3未満では動作しません
- サンドボックス環境では制限される場合があります

## トラブルシューティング

### ウィンドウが表示されない場合
- スクリーン録画権限が許可されているか確認してください
- 対象アプリケーションが実際にウィンドウを表示しているか確認してください

### キャプチャが開始されない場合
- ウィンドウリストを更新してみてください（「更新」ボタンをクリック）
- 対象ウィンドウが最小化されていないか確認してください

## 開発者向け情報

### プロジェクト構造
```
TransparentWindowCapture/
├── Sources/
│   └── TransparentWindowCapture/
│       └── main.swift
├── Package.swift
├── TransparentWindowCapture.xcodeproj/
└── README.md
```

### 拡張可能性
- 複数ウィンドウの同時キャプチャ
- 録画機能の追加
- キャプチャ画像の保存機能
- ホットキーによる操作

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
